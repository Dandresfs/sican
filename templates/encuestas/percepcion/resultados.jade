extends ../../inicio
block scroll_header_panel_title
    span(class="title") ENCUESTA DE PERCEPCIÓN INICIAL

block help_content
    p(class="title-help") Descripción:
    p.
        En esta pagina pagina encuentras los resultados de percepción inicial y diagnostico de necesidades.

block head_content_inicio
    link(rel="import",href="{% static 'bower_components/paper-button/paper-button.html'%}")

block custom_style_panel
    style(is="custom-style")
        | paper-button{
        |   margin-bottom:15px;
        | }

block breadcrum
    a(href="/proyectos/",class="link_button")
        paper-icon-item(class="breadcrumb-paper-icon-item-class") Inicio
            iron-icon(icon="check",item-icon)
    paper-icon-item(class="breadcrum_active",disabled) Resultados encuesta de percepción inicial
        iron-icon(icon="check",item-icon)

block scroll_header_panel_content
    div(class="container-fluid container-index")
        div(class="row")
            div(class="col-sm-12")
                a(href="#",id="button_1",class="ask_link")
                    div(class="ask_div")
                        h4 1. ¿En que área te desempeñas como docente?

                iron-collapse(id="collapse_1")
                    div(class="row",style="margin-top:20px;")
                        div(class="col-sm-8")
                            canvas(id='pregunta_1')
                        div(class="col-sm-4")
                            p 1: Ciencias naturales y educación ambiental
                            p 2: Ciencias sociales, historia, geografia, constitución politica y/o democrática
                            p 3: Educación artística
                            p 4: Educación ética y en valores humanos
                            p 5: Educación física, recreación y deportes
                            p 6: Educación religiosa
                            p 7: Humanidades
                            p 8: Matemáticas
                            p 9: Lengua castellana
                            p 10: Lengua extranjera
                            p 11: Lengua nativa
                            p 12: Competencias ciudadanas
                            p 13: Filosofia
                            p 14: Todas las áreas
                            p 15: Otras

        div(class="row")
            div(class="col-sm-12")
                a(href="#",id="button_2",class="ask_link")
                    div(class="ask_div")
                        h4 2. ¿Cuantos años de experiencia tienes en docencia?

                iron-collapse(id="collapse_2")
                    div(class="row",style="margin-top:20px;")
                        div(class="col-sm-10 col-sm-offset-1")
                            canvas(id='pregunta_2')

        div(class="row")
            div(class="col-sm-12")
                a(href="#",id="button_3",class="ask_link")
                    div(class="ask_div")
                        h4.
                            3. ¿Te gustaría recibir capacitación especializada sobre TIC y Educación relacionada con el
                            uso de contenidos para aprender?

                iron-collapse(id="collapse_3")
                    div(class="row",style="margin-top:20px;")
                        div(class="col-sm-10 col-sm-offset-1")
                            canvas(id='pregunta_3')

        div(class="row")
            div(class="col-sm-12")
                a(href="#",id="button_4",class="ask_link")
                    div(class="ask_div")
                        h4.
                            4. ¿Cuál de los siguientes contenidos y utilidades te parece más relevante en la formación?

                iron-collapse(id="collapse_4")
                    div(class="row",style="margin-top:20px;")
                        div(class="col-sm-8")
                            canvas(id='pregunta_4')
                        div(class="col-sm-4")
                            p a. Formación en herramientas del dispositivo
                            p b. Formación en contenidos para uso didáctico
                            p c. Formación en uso avanzado (Programación)
                            p d. Formación en uso administrativo


block body_script_content
    script.
        $.ajax({
           type: "GET",
           url: '/rest/encuestas/percepcioninicial/',
           success: function(data)
           {

               var ctx = document.getElementById("pregunta_1");
               var myChart = new Chart(ctx, {
                   type: 'bar',
                   data: {
                       labels: ["1", "2", "3", "4", "5", "6","7", "8", "9", "10", "11", "12","13", "14", "15"],
                       datasets: [{
                           label: ['Area'],
                           data: [(data[1][1]*100)/data[0], (data[1][2]*100)/data[0], (data[1][3]*100)/data[0],
                                  (data[1][4]*100)/data[0],(data[1][5]*100)/data[0], (data[1][6]*100)/data[0],
                                  (data[1][7]*100)/data[0],(data[1][8]*100)/data[0], (data[1][9]*100)/data[0],
                                  (data[1][10]*100)/data[0], (data[1][11]*100)/data[0], (data[1][12]*100)/data[0],
                                  (data[1][13]*100)/data[0], (data[1][14]*100)/data[0], (data[1][15]*100)/data[0],
                           ],
                           backgroundColor: '#004c99'
                       }],
                   },
                   options: {
                       scales: {
                           yAxes: [{
                               ticks: {
                                   beginAtZero: true
                               }
                           }]
                       }
                   }
               });


               var ctx = document.getElementById("pregunta_2");
               var myChart2 = new Chart(ctx, {
                   type: 'bar',
                   data: {
                       labels: ["0 - 10", "11 - 20", "21 - 30", "31 - 40", "41 - 50"],
                       datasets: [{
                           label: ['Años de docencia'],
                           data: [(data[2][1]*100)/data[0], (data[2][2]*100)/data[0], (data[2][3]*100)/data[0],
                                  (data[2][4]*100)/data[0],(data[2][5]*100)/data[0],
                           ],
                           backgroundColor: '#004c99'
                       }],
                   },
                   options: {
                       scales: {
                           yAxes: [{
                               ticks: {
                                   beginAtZero: true
                               }
                           }]
                       }
                   }
               });

               var ctx2 = document.getElementById("pregunta_3");
               var myChart3 = new Chart(ctx2, {
                   type: 'pie',
                   data: {
                       labels: ["Si", "No"],
                       datasets: [{
                           data: [(data[3]['si']*100)/data[0], (data[3]['no']*100)/data[0]
                           ],
                           backgroundColor: ['#004c99','#388E3C']
                       }],
                   }
               });


               var ctx2 = document.getElementById("pregunta_4");
               var myChart3 = new Chart(ctx2, {
                   type: 'pie',
                   data: {
                       labels: ["a.", "b.", "c.", "d."],
                       datasets: [{
                           data: [(data[4][1]*100)/data[0], (data[4][2]*100)/data[0],
                                  (data[4][3]*100)/data[0], (data[4][4]*100)/data[0]
                           ],
                           backgroundColor: ['#004c99','#388E3C', '#E64A19', '#2196F3']
                       }],
                   }
               });


           }
         });
    script.
        $("#button_1").on('click', function () {
            collapse_1.toggle();
        })

        $("#button_2").on('click', function () {
            collapse_2.toggle();
        })

        $("#button_3").on('click', function () {
            collapse_3.toggle();
        })

        $("#button_4").on('click', function () {
            collapse_4.toggle();
        })